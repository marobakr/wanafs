<form [formGroup]="healtyData" (ngSubmit)="submitionForm()">
  <!-- ambitions -->
  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="ambitions"
      placeholder="طموحاتك"
      dir="rtl"
      formControlName="ambitions"
      [ngClass]="{
        'border border-danger':
          ambitions.errors && ambitions.dirty && ambitions.touched,
        'border border-success':
          !ambitions.errors && ambitions.dirty && ambitions.touched
      }"
    />
    <label for="ambitions">طموحاتك</label>
    <div class="validations-error">
      @if (ambitions.touched && ambitions.dirty) { @if
      (ambitions.getError('required')) {
      <p class="alert alert-warning">هذا الحقل مطلوبة.</p>
      } @if ( ambitions.getError('minlength')) {
      <p class="alert alert-warning">قم بادخال طموحاتك بشكل صحيح.</p>
      } @if ( ambitions.getError('maxlength')) {
      <p class="alert alert-warning">يجب ألا يزيد عن 500 حرف.</p>
      } }
    </div>
  </div>
  <!-- fears -->
  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="fears"
      placeholder="مخاوفك"
      dir="rtl"
      formControlName="fears"
      [ngClass]="{
        'border border-danger': fears.errors && fears.dirty && fears.touched,
        'border border-success': !fears.errors && fears.dirty && fears.touched
      }"
    />
    <label for="fears">مخاوفك</label>
    <div class="validations-error">
      @if (fears.touched && fears.dirty) { @if (fears.getError('required')) {
      <p class="alert alert-warning">هذا الحقل مطلوبة.</p>
      } @if ( fears.getError('minlength')) {
      <p class="alert alert-warning">قم بادخال مخاوفك بشكل صحيح.</p>
      } @if ( fears.getError('maxlength')) {
      <p class="alert alert-warning">يجب ألا يزيد عن 500 حرف.</p>
      } }
    </div>
  </div>
  <!-- physicalDiseases -->

  <div class="mb-3">
    <select
      class="form-select form-select-md mb-3"
      aria-label=".form-select-lg example"
      id="physicalDiseases"
      formControlName="physicalDiseases"
      [ngClass]="{
        'border border-danger':
          physicalDiseases.errors &&
          physicalDiseases.dirty &&
          physicalDiseases.touched,
        'border border-success':
          !physicalDiseases.errors &&
          physicalDiseases.dirty &&
          physicalDiseases.touched
      }"
    >
      <option selected disabled>هل تعاني من أي أمراض جسدية؟</option>
      <option value="true">نعم اعاني</option>
      <option value="false">لا اعاني</option>
    </select>
    <div class="validations-error">
      @if (physicalDiseases.touched && physicalDiseases.dirty) { @if
      (physicalDiseases.getError('required')) {
      <p class="alert alert-warning">هذا الحقل مطلوبة.</p>
      } }
    </div>
    <!-- additionalInput In case True -->
    @if (physicalDiseases.value === 'true') {
    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="fears"
        placeholder="اذا نعم يرجي ادخال التفاصيل"
        dir="rtl"
        formControlName="detailsForphysicalDiseases"
        [ngClass]="{
          'border border-danger':
            DetailsForControl('detailsForphysicalDiseases')?.errors &&
            DetailsForControl('detailsForphysicalDiseases')?.dirty &&
            DetailsForControl('detailsForphysicalDiseases')?.touched,
          'border border-success':
            !DetailsForControl('detailsForphysicalDiseases')?.errors &&
            DetailsForControl('detailsForphysicalDiseases')?.dirty &&
            DetailsForControl('detailsForphysicalDiseases')?.touched
        }"
      />

      <label for="DetailsForControl?"
        >ماهيه الأمراض جسدية التي تعاني منها
      </label>
      <div class="validations-error">
        @if (healtyData.get('detailsForphysicalDiseases')?.touched &&
        healtyData.get('detailsForphysicalDiseases')?.dirty) { @if
        (healtyData.get('detailsForphysicalDiseases')?.getError('required')) {
        <p class="alert alert-warning">هذا الحقل مطلوبة.</p>
        } @if (
        healtyData.get('detailsForphysicalDiseases')?.getError('minlength')) {
        <p class="alert alert-warning">قم بادخال الأمراض جسدية بشكل صحيح.</p>
        } }
      </div>
    </div>
    }
  </div>

  <!-- organicMedications -->

  <div class="mb-3">
    <select
      class="form-select form-select-md mb-3"
      aria-label=".form-select-lg example"
      id="organicMedications"
      formControlName="organicMedications"
      [ngClass]="{
        'border border-danger':
          organicMedications.errors &&
          organicMedications.dirty &&
          organicMedications.touched,
        'border border-success':
          !organicMedications.errors &&
          organicMedications.dirty &&
          organicMedications.touched
      }"
    >
      <option selected disabled value="">هل تتناول أدوية عضوية؟</option>
      <option value="true">نعم اعاني</option>
      <option value="false">لا اعاني</option>
    </select>
    <div class="validations-error">
      @if (organicMedications.touched ) { @if
      (organicMedications.getError('notSelectValue')) {
      <p class="alert alert-warning">هذا الحقل مطلوبة .</p>
      } }
    </div>
  </div>
  <!-- additionalInput In case True -->
  @if (organicMedications.value === 'true') {
  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="fears"
      placeholder="اذا نعم يرجي ادخال التفاصيل"
      dir="rtl"
      formControlName="detailsForOrganicMedications"
      [ngClass]="{
        'border border-danger':
          DetailsForControl('detailsForOrganicMedications')?.errors &&
          DetailsForControl('detailsForOrganicMedications')?.dirty &&
          DetailsForControl('detailsForOrganicMedications')?.touched,
        'border border-success':
          !DetailsForControl('detailsForOrganicMedications')?.errors &&
          DetailsForControl('detailsForOrganicMedications')?.dirty &&
          DetailsForControl('detailsForOrganicMedications')?.touched
      }"
    />

    <label for="DetailsForControl?"> ماهيه أدوية عضوية التي تتناولها ؟ </label>
    <div class="validations-error">
      @if (healtyData.get('detailsForOrganicMedications')?.touched &&
      healtyData.get('detailsForOrganicMedications')?.dirty) { @if
      (healtyData.get('detailsForOrganicMedications')?.getError('required')) {
      <p class="alert alert-warning">هذا الحقل مطلوبة.</p>
      } @if (
      healtyData.get('detailsForOrganicMedications')?.getError('minlength')) {
      <p class="alert alert-warning">قم بادخال أدوية عضوية بشكل صحيح.</p>
      } }
    </div>
  </div>
  }

  <!-- diagnosedMentalDisorder -->
  <div class="mb-3">
    <select
      class="form-select form-select-md mb-3"
      aria-label=".form-select-lg example"
      id="diagnosedMentalDisorder"
      formControlName="diagnosedMentalDisorder"
      [ngClass]="{
        'border border-danger':
          diagnosedMentalDisorder.errors &&
          diagnosedMentalDisorder.dirty &&
          diagnosedMentalDisorder.touched,
        'border border-success':
          !diagnosedMentalDisorder.errors &&
          diagnosedMentalDisorder.dirty &&
          diagnosedMentalDisorder.touched
      }"
    >
      <option selected disabled value="">
        هل تم تشخيصك بأحد الاضطرابا النفسية؟
      </option>
      <option value="true">نعم تم تشخصي من قبل</option>
      <option value="false">لم يتم تشخصي</option>
    </select>
    <div class="validations-error">
      @if (diagnosedMentalDisorder.touched ) { @if
      (diagnosedMentalDisorder.getError('notSelectValue')) {
      <p class="alert alert-warning">هذا الحقل مطلوبة .</p>
      } }
    </div>
  </div>
  <!-- additionalInput In case True -->
  @if (diagnosedMentalDisorder.value === 'true') {
  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="fears"
      placeholder="اذا نعم يرجي ادخال التفاصيل"
      dir="rtl"
      formControlName="detailsForMentalDisorder"
      [ngClass]="{
        'border border-danger':
          DetailsForControl('detailsForMentalDisorder')?.errors &&
          DetailsForControl('detailsForMentalDisorder')?.dirty &&
          DetailsForControl('detailsForMentalDisorder')?.touched,
        'border border-success':
          !DetailsForControl('detailsForMentalDisorder')?.errors &&
          DetailsForControl('detailsForMentalDisorder')?.dirty &&
          DetailsForControl('detailsForMentalDisorder')?.touched
      }"
    />

    <label for="DetailsForControl?"> ماهوه التشخيص ؟ </label>
    <div class="validations-error">
      @if (healtyData.get('detailsForMentalDisorder')?.touched &&
      healtyData.get('detailsForMentalDisorder')?.dirty) { @if
      (healtyData.get('detailsForMentalDisorder')?.getError('required')) {
      <p class="alert alert-warning">هذا الحقل مطلوبة.</p>
      } @if ( healtyData.get('detailsForMentalDisorder')?.getError('minlength'))
      {
      <p class="alert alert-warning">قم بادخال التشخيص بشكل صحيح.</p>
      } }
    </div>
  </div>
  }
  <!-- psychiatricMedications -->

  <div class="mb-3">
    <select
      class="form-select form-select-md mb-3"
      aria-label=".form-select-lg example"
      id="psychiatricMedications"
      formControlName="psychiatricMedications"
      [ngClass]="{
        'border border-danger':
          psychiatricMedications.errors &&
          psychiatricMedications.dirty &&
          psychiatricMedications.touched,
        'border border-success':
          !psychiatricMedications.errors &&
          psychiatricMedications.dirty &&
          diagnosedMentalDisorder.touched
      }"
    >
      <option selected disabled value="">هل تتناول أدوية نفسية؟</option>
      <option value="true">نعم تناولت من قبل</option>
      <option value="false">لم اتناول</option>
    </select>
    <div class="validations-error">
      @if (diagnosedMentalDisorder.touched ) { @if
      (diagnosedMentalDisorder.getError('notSelectValue')) {
      <p class="alert alert-warning">هذا الحقل مطلوبة .</p>
      } }
    </div>
  </div>
  @if (psychiatricMedications.value === 'true') {
  <div class="form-floating mb-3">
    <input
      type="text"
      class="form-control"
      id="fears"
      placeholder="اذا نعم يرجي ادخال التفاصيل"
      dir="rtl"
      formControlName="detailsForPsychiatricMedications"
      [ngClass]="{
        'border border-danger':
          DetailsForControl('detailsForPsychiatricMedications')?.errors &&
          DetailsForControl('detailsForPsychiatricMedications')?.dirty &&
          DetailsForControl('detailsForPsychiatricMedications')?.touched,
        'border border-success':
          !DetailsForControl('detailsForPsychiatricMedications')?.errors &&
          DetailsForControl('detailsForPsychiatricMedications')?.dirty &&
          DetailsForControl('detailsForPsychiatricMedications')?.touched
      }"
    />

    <label for="DetailsForControl?"> ماهوه هيه الأدوية ؟ </label>
    <div class="validations-error">
      @if (healtyData.get('detailsForPsychiatricMedications')?.touched &&
      healtyData.get('detailsForPsychiatricMedications')?.dirty) { @if
      (healtyData.get('detailsForPsychiatricMedications')?.getError('required'))
      {
      <p class="alert alert-warning">هذا الحقل مطلوبة.</p>
      } @if (
      healtyData.get('detailsForPsychiatricMedications')?.getError('minlength'))
      {
      <p class="alert alert-warning">قم بادخال اسم الدواء بشكل صحيح.</p>
      } }
    </div>
  </div>
  }
  <div class="d-flex justify-content-between align-items-center">
    <button
      (click)="dispatchActionFormBack()"
      type="button"
      class="btn btn-secondary"
    >
      رجوع
    </button>
    <button class="btn btn-dark">ارسال</button>
  </div>
</form>
<ngx-spinner type="ball-scale-multiple"></ngx-spinner>
